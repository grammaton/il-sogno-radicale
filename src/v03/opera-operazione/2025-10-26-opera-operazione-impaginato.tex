%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

\documentclass{../../../lib/gs}

\usepackage{../../../lib/apf}
\newfontfamily\phonfont{Charis} % font ricco di simboli IPA

% Packages per figure e grafici
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{tikz}
\usetikzlibrary{decorations.text}
\usepackage{subcaption}

\usepackage{enumitem}

\title{il sogno radicale}
\subtitle{autobiografia di un eretico. appunti revb.\\[1cm] \textbf{\large creazione(opera, operazione)}}
\author{Giuseppe Silvi}
\date{\today}

% Definizione delle parole chiave per i metadati PDF
\kuno{filosofia}
\kdue{greco antico}
\ktre{Platone}
\kquattro{etimologia}
\kcinque{XeLaTeX}

% Comandi per la notazione AllPass
\newcommand{\apf}[3]{\textbf{\texttt{#1(#2,#3)}}}
\newcommand{\apfc}[3]{\begin{center}\apf{#1}{#2}{#3}\end{center}}
\newcommand{\apfcn}[4]{\begin{center}\apf{#1}{#2}{#3}\footnote{#4}\end{center}}

\usepackage[
  backend=biber,
  style=authoryear,        % oppure numeric se preferisci numeri
  sorting=nyt,             % ordina per: nome, anno, titolo
  maxbibnames=3,           % max 3 autori, poi "et al."
  maxcitenames=2,          % in citazione max 2 nomi
  giveninits=false,        % nomi completi, non iniziali
  uniquename=false,
  uniquelist=false,
  url=true,                % mostra URL
  doi=false,               % NON mostrare DOI
  isbn=false,              % NON mostrare ISBN
  eprint=false             % NON mostrare eprint
]{biblatex}

% Personalizzazioni aggiuntive
\DeclareFieldFormat{url}{\newline\footnotesize\url{#1}}
\DeclareFieldFormat{howpublished}{\newline\footnotesize#1}
\DeclareFieldFormat{urldate}{accesso: #1}   % formato data accesso

% Rimuovi completamente i campi che non servono
\AtEveryBibitem{%
  \clearfield{issn}%
  \clearfield{isbn}%
  \clearfield{doi}%
  \clearfield{eprint}%
  \clearfield{eprinttype}%
  \clearfield{pages}% rimuovi se non vuoi vedere le pagine
}

% Per rimuovere "In:" prima del nome della rivista
\renewbibmacro{in:}{}

% Rendi \cite equivalente a \parencite
\let\cite\parencite

% Nel preambolo del .tex
\addbibresource{../../bibliografia.bib}

\usepackage{soul}

% Definizione dello stile per le curve con testo
\tikzset{
  text curve/.style={
    thick,
    postaction={
      decorate,
      decoration={
        raise=-2.4pt,
        text effects along path,
        text align=center,
        text={~#1~},
        text effects/.cd,
          character count=\i,
          character total=\n,
          characters={text along path, fill=white}
      }
    }
  },
  % Stile per la linea base (orizzontale)
  base line/.style={text curve={#1}},
  % Stile per l'arco superiore (da sinistra a destra)
  upper arc/.style={text curve={#1}, ->},
  % Stile per l'arco inferiore (da destra a sinistra, invertito)
  lower arc/.style={
    text curve={#1},
    ->,
    postaction={
      decorate,
      decoration={
        raise=-2.4pt,
        text effects along path,
        reverse path,
        text align=center,
        text={~#1~},
        text effects/.cd,
          character count=\i,
          character total=\n,
          characters={text along path, fill=white}
      }
    }
  }
}

\begin{document}

\maketitle

\input{2025-10-26-opera-operazione.tex}

\clearpage

% Nel documento
%\nocite{*}
\printbibliography

\end{document}
